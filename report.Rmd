---
title: "DATA3888 COVID Report"
author: '500254239'
date: "`r format(Sys.time(), '%d %b %Y')`"
output: 
  bookdown::html_document2:
    theme: 
      # bootswatch: lumen
      sandstone
    code_folding: hide
    toc: true
    toc_float: true
    number_sections: true
    df_print: paged
bibliography: [references.bib, references-pkg.bib]
csl: apa-6th-edition.csl
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,    # for final report, set to FALSE to hide all code chunks
  message = FALSE,
  warning = FALSE,
  fig.align = "center",
  fig.cap = ""
)
```

```{r libraries}
library(tidyverse)
library(kableExtra)
```

# Guide for RMarkdown report (remove for final report)

## Bibliographies in RMarkdown

- `references.bib`: for BibTeX of all sources you wish to reference
- `references-pkg.bib`: for BibTeX of all packages used in the report

Bibliographies will be included automatically at the end before appendix. Copy paste `bib` or `BibTeX` text from your sources into the file `references.bib` following the example format, leaving an empty line between entries. Name it however you want in the first line after `@document-format{` like in the example. For any package you are using, if there isn't already an entry for it in the bib file, then use the function `citation("package-name")` in R console and copy the `BibTeX` entry from the output, paste it into `references-pkg.bib`.

Examples of how to reference bib entries in-text (check the rmd file):

- Garth reference: [@RN83]
- `tidyverse` reference: [@tidyverse]

## Sections cross-referencing

You can cross-reference to sections, so that the link point to the relevant heading (check the rmd file):

- use `{#section-id}` after heading to label the section followed, where `section-id` is user-defined and acts as the identifier of the section
- use `\@ref(section-id)` or `\@ref(section-heading)` if there is no identifier, to refer to the section you want to link to

Examples (check rmd file):

- this text refers to the appendix A with the heading "Code" (Appendix \@ref(code))
- this text refers to the section labelled with *id* `vri` (Section \@ref(vri))
- this text refers to the section "Data Background" (Section \@ref(data-background))

*Note this will only show the number of the section, you have to put "Section"/"Appendix" before the `\@ref(...)` as well.*

## Figures/Tables cross-referencing

- use `\@ref(fig:chunk-name)` to refer to figure output by the chunk named as `chunk-name`
- use `\@ref(tab:chunk-name)` to refer to the table output by the chunk named as `chunk-name`

Here is an example plot with caption and its in-text reference (check rmd file):

- Figure \@ref(fig:example-plot). 

*Note this will only show the number (default format: section-num.figure-num), you have to put "Figure" before the `\@ref(fig:..)` as well.*

```{r example-plot, fig.cap="Example plot"}
# example plot
mtcars %>% 
  rownames_to_column("car") %>% 
  as_tibble() %>% 
  ggplot() +
  aes(x = factor(cyl), y = disp, colour = factor(cyl)) +
  geom_boxplot()
```

Here is an example table with caption and its in-text reference:

- Table \@ref(tab:example-table)

*Note this will only show the number (default format: section-num.table-num), you have to put "Table" before the `\@ref(tab:..)` as well.*

```{r example-table}
# example table
mtcars %>% 
  kbl(caption = "Example table",
      format = "html",
      booktabs = TRUE,
      row.names = TRUE,
      escape = TRUE) %>%
  kable_styling(bootstrap_options = c("condensed", "striped", "hover"),
                position = "center") %>%
  scroll_box(height = "300px")
```


# Executive Summary



# Data Background


# Methods


## Time lag between 1st and 2nd dose {#time-lag}


## Vaccine rollout index (VRI) and variable importance {#vri}


## Vaccine uptake and availability {#availability}


# Results


# Discussion & Conclusion {#conclusion}


# Student Contributions


# References

::: {#refs}
:::

# (APPENDIX) Appendix {-}

# Code

```{r get-labels}
labs = knitr::all_labels()
# exclude chunk "setup" and "get-labels" (this chunk)
labs = setdiff(labs, c("setup", "get-labels"))
# can be used later if want all code in one chunk
```

```{r all-code, ref.label="example-plot", echo=TRUE, eval=FALSE}
# only example-plot code chunk
```

